<form (ngSubmit)="save()" #setting="ngForm">
    <label for="email">Email</label>
    <input id='email'
           type="email"
           [(ngModel)]="email"
           #emailInput="ngForm"
           [ngClass]="controlStateClasses(emailInput)"
           ngControl="emailInput"
           pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$"
           required
           placeholder="Novo email" autocomplete='off'/>
    <input type="email"
           [(ngModel)]="emailConfirmation"
           #emailConfirmationInput="ngForm"
           [ngClass]="controlStateClasses(emailConfirmationInput)  "
           ngControl="emailConfirmationInput"
           pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$"
           required
           placeholder="Confirmação do novo email" autocomplete='off'/>

    <div
            [hidden]="(email == emailConfirmation)
            || (emailInput.pristine && emailConfirmationInput.pristine)"
            class="dnp1-form-invalid-feedback">
        O email deve ser o repetido nas duas caixas de texto.
    </div>
    <label for="password">Senha</label>
    <input id='password'
           type="password"
           #password="ngForm"
           [ngClass]="controlStateClasses(password)  "
           ngControl="password"
           required
           placeholder="Senha" autocomplete='off'/>


    <input type="submit" value="Salvar"
           [disabled]="!setting.form.valid || sending || email != emailConfirmation">
    <input type="button" value="Cancelar" (click)="dispose()">
</form>